if uiCreated then return end  -- Prevent recreating the UI

        -- Create the draggable UI window
        draggableFrame = Instance.new("Frame")
        draggableFrame.Size = UDim2.new(0, 250, 0, 300)
        draggableFrame.Position = UDim2.new(0.5, -125, 0.5, -150)
        draggableFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
        draggableFrame.Parent = game.Players.LocalPlayer.PlayerGui

        -- Make the frame draggable
        local dragging = false
        local dragStartPos
        local dragStart

        draggableFrame.InputBegan:Connect(function(input)
            if input.UserInputType == Enum.UserInputType.MouseButton1 then
                dragging = true
                dragStartPos = draggableFrame.Position
                dragStart = input.Position
            end
        end)

        draggableFrame.InputChanged:Connect(function(input)
            if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
                local delta = input.Position - dragStart
                draggableFrame.Position = UDim2.new(dragStartPos.X.Scale, delta.X, dragStartPos.Y.Scale, delta.Y)
            end
        end)

        draggableFrame.InputEnded:Connect(function(input)
            if input.UserInputType == Enum.UserInputType.MouseButton1 then
                dragging = false
            end
        end)

        -- Fly Toggle Button
        local flyButton = Instance.new("TextButton")
        flyButton.Size = UDim2.new(0, 100, 0, 50)
        flyButton.Position = UDim2.new(0, 25, 0, 50)
        flyButton.Text = "Fly"
        flyButton.BackgroundColor3 = Color3.fromRGB(0, 255, 0)
        flyButton.TextColor3 = Color3.fromRGB(255, 255, 255)
        flyButton.Parent = draggableFrame

        flyButton.MouseButton1Click:Connect(function()
            if flying then
                stopFly()
                flyButton.Text = "Fly"
                flyButton.BackgroundColor3 = Color3.fromRGB(0, 255, 0)
            else
                startFly()
                flyButton.Text = "Stop"
                flyButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
            end
        end)

        -- Speed Slider (Speed Changer)
        local speedSlider = Instance.new("TextButton")
        speedSlider.Size = UDim2.new(0, 200, 0, 30)
        speedSlider.Position = UDim2.new(0, 25, 0, 120)
        speedSlider.Text = "Speed: 50"
        speedSlider.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
        speedSlider.TextColor3 = Color3.fromRGB(255, 255, 255)
        speedSlider.Parent = draggableFrame

        speedSlider.MouseButton1Click:Connect(function()
            local inputBox = Instance.new("TextBox")
            inputBox.Size = UDim2.new(0, 50, 0, 25)
            inputBox.Position = UDim2.new(0, 25, 0, 160)
            inputBox.Text = tostring(speed)
            inputBox.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
            inputBox.Parent = draggableFrame

            inputBox.FocusLost:Connect(function()
                local newSpeed = tonumber(inputBox.Text)
                if newSpeed then
                    speed = newSpeed
                    speedSlider.Text = "Speed: " .. speed
                end
                inputBox:Destroy()
            end)

            inputBox:CaptureFocus()
        end)

        -- Kill Button (Removes UI)
        local killButton = Instance.new("TextButton")
        killButton.Size = UDim2.new(0, 100, 0, 50)
        killButton.Position = UDim2.new(0, 25, 0, 200)
        killButton.Text = "Kill UI"
        killButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
        killButton.TextColor3 = Color3.fromRGB(255, 255, 255)
        killButton.Parent = draggableFrame

        killButton.MouseButton1Click:Connect(function()
            draggableFrame:Destroy()
            uiCreated = false
        end)

        -- Credits Label
        local creditsLabel = Instance.new("TextLabel")
        creditsLabel.Size = UDim2.new(0, 200, 0, 30)
        creditsLabel.Position = UDim2.new(0, 25, 0, 250)
        creditsLabel.Text = "UI Credits to Trxth on Discord"
        creditsLabel.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
        creditsLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
        creditsLabel.TextSize = 14
        creditsLabel.TextScaled = true
        creditsLabel.Parent = draggableFrame

        uiCreated = true
    end
})
